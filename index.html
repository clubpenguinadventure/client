<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <title>Club Penguin</title>

        <link rel="stylesheet" href="assets/styles/styles.css" type="text/css">

        <!-- Fonts -->
        <script src="assets/scripts/lib/webfont.js"></script>

        <!-- Phaser -->
        <script src="https://cdn.jsdelivr.net/npm/phaser@3.80.1/dist/phaser.min.js"></script>
        <script src="assets/scripts/lib/phaser-cachebuster.min.js"></script>

        <!-- Ruffle -->
        <script src="https://cdn.jsdelivr.net/npm/@ruffle-rs/ruffle/ruffle.min.js"></script>

        <!-- Client bundle -->
        <script src="assets/scripts/client/yukon.bundle.js"></script>
    </head>

    <body>
		<div class="header" id="header">
			<div class="header-content">
				<div class="links">
					<a href="https://cpchat.net">Website Home</a>
					<a href="https://community.cpchat.net">Community</a>
					<a href="https://cpchat.net/support">Support</a>
					<a href="https://cpchat.net/legal">Legal</a>
					<a href="https://wiki.cpchat.net">Wiki</a>
				</div>
				<div class="buttons">
					<button id="fullscreen">Full Screen</button>
					<button id="toggleDarkMode">Toggle Dark Mode</button>
				</div>
				<div class="links">
					<a href="#">Log Out</a>
				</div>
			</div>
		</div>
		  <script>
			const toggleButton = document.getElementById('toggleDarkMode');
			const body = document.body;

			toggleButton.addEventListener('click', () => {
				body.classList.toggle('dark-mode');
				body.classList.toggle('light-mode');
				body.dispatchEvent(new Event('themeChanged'));
			});

			if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
				body.classList.add('dark-mode');
			} else {
				body.classList.add('light-mode');
			}

			const fullscreenButton = document.getElementById('fullscreen');
			fullscreenButton.addEventListener('click', () => {
				document.getElementById('header').style.display = 'none';
				document.getElementById('game').style.maxWidth = '100%';
				document.getElementById('game').style.maxHeight = '100%';
				document.getElementById('game').style.height = '100%';
				document.documentElement.requestFullscreen();
			});

			document.addEventListener('fullscreenchange', () => {
				if (!document.fullscreenElement) {
					document.getElementById('header').style.display = 'flex'
					document.getElementById('game').style.maxWidth = '1520px';
				}
			});
		</script>
        <div id="game" class="game"></div>
    </body>

</html>
